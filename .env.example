# Environment variables template
# Copy this file to .env and update values as needed

# Application Settings
PROJECT_NAME=Votuna API
DEBUG=False

# CORS - allowed origins (can be JSON array or comma-separated list)
# Examples:
#   ALLOWED_ORIGINS=["http://127.0.0.1:3000","http://localhost:3000","http://localhost:8080"]
ALLOWED_ORIGINS=["http://localhost:3000","http://localhost:8080"]

# Database credentials (used by Docker Compose for PostgreSQL)
DB_USER=votuna_user
DB_PASSWORD=votuna_password
DB_NAME=votuna
DB_PORT=5432

# Database Configuration (REQUIRED - must be a valid PostgreSQL URL)
# Format: postgresql://username:password@host:port/database
# For Docker Compose: postgresql://${DB_USER}:${DB_PASSWORD}@postgres:${DB_PORT}/${DB_NAME}
# For local development: postgresql://votuna_user:votuna_password@localhost:5432/votuna
DATABASE_URL=postgresql://votuna_user:votuna_password@postgres:5432/votuna

# SQLAlchemy logging (set to True to see SQL queries)
SQLALCHEMY_ECHO=False

# API configuration
API_PORT=8000

# Auth (SSO + JWT)
# Spotify app settings (set in Spotify Developer Dashboard)
SPOTIFY_CLIENT_ID=
SPOTIFY_CLIENT_SECRET=
SPOTIFY_REDIRECT_URI=http://localhost:8000/api/v1/auth/callback/spotify
SPOTIFY_API_BASE_URL=https://api.spotify.com/v1
SPOTIFY_TOKEN_URL=https://accounts.spotify.com/api/token

# SoundCloud app settings
SOUNDCLOUD_CLIENT_ID=
SOUNDCLOUD_CLIENT_SECRET=
SOUNDCLOUD_REDIRECT_URI=http://localhost:8000/api/v1/auth/callback/soundcloud
SOUNDCLOUD_API_BASE_URL=https://api.soundcloud.com

# JWT settings
AUTH_SECRET_KEY=change-me
AUTH_TOKEN_EXPIRE_MINUTES=10080
AUTH_COOKIE_NAME=votuna_access_token
AUTH_COOKIE_SECURE=False
AUTH_COOKIE_SAMESITE=lax
FRONTEND_URL=http://localhost:3000

# User file storage (relative to api/ when running in Docker)
USER_FILES_DIR=user_files
MAX_AVATAR_BYTES=5242880

# Frontend configuration
FRONTEND_PORT=3000
# API URL accessible from the browser (use localhost for local development)
NEXT_PUBLIC_API_URL=http://localhost:8000

# -----------------------------
# Railway production deployment
# -----------------------------
# These are examples for Railway service variables (set in Railway UI, not committed .env files).
#
# API service:
# DATABASE_URL=${{Postgres.DATABASE_URL}}
# AUTH_SECRET_KEY=<strong-random-value>
# AUTH_COOKIE_SECURE=True
# AUTH_COOKIE_SAMESITE=lax
# FRONTEND_URL=https://<frontend-domain>.up.railway.app
# ALLOWED_ORIGINS=["https://<frontend-domain>.up.railway.app"]
# SOUNDCLOUD_REDIRECT_URI=https://<api-domain>.up.railway.app/api/v1/auth/callback/soundcloud
# USER_FILES_DIR=/app/user_files
# RAILWAY_RUN_UID=0
#
# Frontend service:
# NEXT_PUBLIC_API_URL=https://<api-domain>.up.railway.app
#
# Cookie guidance:
# - Use AUTH_COOKIE_SAMESITE=lax when frontend and API are on the same site.
# - Use AUTH_COOKIE_SAMESITE=none only for true cross-site deployments and keep AUTH_COOKIE_SECURE=True.
